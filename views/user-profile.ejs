
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>User Profile</title>
    <link rel="stylesheet" href="css/user-profile.css" />
    <link rel="shortcut icon" href="images/logo.ico" type="image/x-icon" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
  </head>
  <body>
    <!-- Header -->
    <div class="custom-header">
      <div class="logo">
        <img src="/images/logo.png" alt="Logo" />
      </div>
      <div class="welcome-text">
        <h1>Welcome Back, <%= user.username %>!</h1> 
      </div>
      <div class="profile-icon">
        <i class="fa-solid fa-circle-user"></i>
      </div>
    </div>

    <!-- Side Navbar -->
    <div class="navbar">
      <nav>
        <ul>
          <li><a href="/user-dashboard">DASHBOARD</a></li>
          <li><a href="/user-workout">WORKOUT</a></li>
          <li><a href="/user-nutrition">NUTRITION</a></li>
          <li><a href="/user-profile" class="active">PROFILE</a></li>
        </ul>
      </nav>
    </div>

    <!-- Main Content Container -->
    <div class="content-container">
      <div class="overview-card">
        <h2>Profile</h2>

        <!-- Profile Header -->
        <div class="profile-header">
            <div class="avatar-container">
              <img
                id="avatar"
                src="/images/BGBG.jpg"
                alt="User Avatar"
                class="avatar"
              />
              <label for="file-input" class="upload-button">+</label>
              <input
                type="file"
                id="file-input"
                accept="image/*"
                style="display: none"
              />
            </div>
          <div class="user-info">
            <h2><%= user.fullname %></h2> <!-- Display full name -->
            <p><%= user.email %></p> <!-- Display email -->
          </div>
        </div>

        <!-- Progress Section with Images -->
        <div class="progress-section">
          <h3>Progress</h3>

          <div class="image-gallery">
            <div class="gallery-item">
              <img src="/images/BGBG.jpg" alt="Achievement 1" />
              <p>First Marathon Completed!</p>
            </div>

            <div class="gallery-item">
              <img src="/images/BGBG.jpg" alt="Achievement 2" />
              <p>Lost 10kg Milestone</p>
            </div>

            <div class="gallery-item">
              <img src="/images/BGBG.jpg" alt="Achievement 3" />
              <p>Muscle Gain Progress</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      const fileInput = document.getElementById("file-input");
      const avatar = document.getElementById("avatar");

      // Handle the file input change event
      fileInput.addEventListener("change", function () {
        const file = this.files[0];

        if (file) {
          const reader = new FileReader();
          reader.onload = function (e) {
            avatar.src = e.target.result; // Set avatar source to the uploaded image
            avatar.style.display = "block"; // Ensure the avatar is displayed
          };
          reader.readAsDataURL(file); // Read the uploaded file as a Data URL
        }
      });
    </script>
  </body>
</html>